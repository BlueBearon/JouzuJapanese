<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Word.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">jouzujapanese</a> &gt; <a href="index.source.html" class="el_package">com.chasepacker.ConjugationCode</a> &gt; <span class="el_source">Word.java</span></div><h1>Word.java</h1><pre class="source lang-java linenums">package com.chasepacker.ConjugationCode;
import java.util.HashMap;
import java.util.Map;


public interface Word {


<span class="fc" id="L9">    public static final String[] ROMANJI = </span>
    {&quot;a&quot;, &quot;i&quot;, &quot;u&quot;, &quot;e&quot;, &quot;o&quot;, 
    &quot;ka&quot;, &quot;ki&quot;, &quot;ku&quot;, &quot;ke&quot;, &quot;ko&quot;,
    &quot;ga&quot;, &quot;gi&quot;, &quot;gu&quot;, &quot;ge&quot;, &quot;go&quot;,
    &quot;sa&quot;, &quot;shi&quot;, &quot;su&quot;, &quot;se&quot;, &quot;so&quot;,
    &quot;za&quot;, &quot;ji&quot;, &quot;zu&quot;, &quot;ze&quot;, &quot;zo&quot;,
    &quot;ta&quot;, &quot;chi&quot;, &quot;tsu&quot;, &quot;te&quot;, &quot;to&quot;,
    &quot;da&quot;, &quot;dji&quot;, &quot;dzu&quot;, &quot;de&quot;, &quot;do&quot;,
    &quot;na&quot;, &quot;ni&quot;, &quot;nu&quot;, &quot;ne&quot;, &quot;no&quot;,
    &quot;ha&quot;, &quot;hi&quot;, &quot;fu&quot;, &quot;he&quot;, &quot;ho&quot;,
    &quot;ba&quot;, &quot;bi&quot;, &quot;bu&quot;, &quot;be&quot;, &quot;bo&quot;, 
    &quot;pa&quot;, &quot;pi&quot;, &quot;pu&quot;, &quot;pe&quot;, &quot;po&quot;,
    &quot;ma&quot;, &quot;mi&quot;, &quot;mu&quot;, &quot;me&quot;, &quot;mo&quot;,
    &quot;ra&quot;, &quot;ri&quot;, &quot;ru&quot;, &quot;re&quot;, &quot;ro&quot;,
    &quot;ya&quot;, &quot;yu&quot;, &quot;yo&quot;, &quot;wa&quot;, &quot;wo&quot;, &quot;n&quot;,
    &quot;kya&quot;, &quot;kyu&quot;, &quot;kyo&quot;,
    &quot;gya&quot;, &quot;gyu&quot;, &quot;gyo&quot;,
    &quot;sha&quot;, &quot;shu&quot;, &quot;sho&quot;,
    &quot;jya&quot;, &quot;jyu&quot;, &quot;jyo&quot;,
    &quot;cha&quot;, &quot;chu&quot;, &quot;cho&quot;,
    &quot;nya&quot;, &quot;nyu&quot;, &quot;nyo&quot;,
    &quot;hya&quot;, &quot;hyu&quot;, &quot;hyo&quot;,
    &quot;bya&quot;, &quot;byu&quot;, &quot;byo&quot;,
    &quot;pya&quot;, &quot;pyu&quot;, &quot;pyo&quot;,
    &quot;mya&quot;, &quot;myu&quot;, &quot;myo&quot;,
    &quot;rya&quot;, &quot;ryu&quot;, &quot;ryo&quot;
    };

<span class="fc" id="L37">    public static final String[] HIRAGANA = </span>
    {&quot;あ&quot;, &quot;い&quot;, &quot;う&quot;, &quot;え&quot;, &quot;お&quot;, 
    &quot;か&quot;, &quot;き&quot;, &quot;く&quot;, &quot;け&quot;, &quot;こ&quot;,
    &quot;が&quot;, &quot;ぎ&quot;, &quot;ぐ&quot;, &quot;げ&quot;, &quot;ご&quot;,
    &quot;さ&quot;, &quot;し&quot;, &quot;す&quot;, &quot;せ&quot;, &quot;そ&quot;,
    &quot;ざ&quot;, &quot;じ&quot;, &quot;ず&quot;, &quot;ぜ&quot;, &quot;ぞ&quot;,
    &quot;た&quot;, &quot;ち&quot;, &quot;つ&quot;, &quot;て&quot;, &quot;と&quot;,
    &quot;だ&quot;, &quot;ぢ&quot;, &quot;づ&quot;, &quot;で&quot;, &quot;ど&quot;,
    &quot;な&quot;, &quot;に&quot;, &quot;ぬ&quot;, &quot;ね&quot;, &quot;の&quot;,
    &quot;は&quot;, &quot;ひ&quot;, &quot;ふ&quot;, &quot;へ&quot;, &quot;ほ&quot;,
    &quot;ば&quot;, &quot;び&quot;, &quot;ぶ&quot;, &quot;べ&quot;, &quot;ぼ&quot;, 
    &quot;ぱ&quot;, &quot;ぴ&quot;, &quot;ぷ&quot;, &quot;ぺ&quot;, &quot;ぽ&quot;,
    &quot;ま&quot;, &quot;み&quot;, &quot;む&quot;, &quot;め&quot;, &quot;も&quot;,
    &quot;ら&quot;, &quot;り&quot;, &quot;る&quot;, &quot;れ&quot;, &quot;ろ&quot;,
    &quot;や&quot;, &quot;ゆ&quot;, &quot;よ&quot;, &quot;わ&quot;, &quot;を&quot;, &quot;ん&quot;,
    &quot;きゃ&quot;, &quot;きゅ&quot;, &quot;きょ&quot;,
    &quot;ぎゃ&quot;, &quot;ぎゅ&quot;, &quot;ぎょ&quot;,
    &quot;しゃ&quot;, &quot;しゅ&quot;, &quot;しょ&quot;,
    &quot;じゃ&quot;, &quot;じゅ&quot;, &quot;じょ&quot;,
    &quot;ちゃ&quot;, &quot;ちゅ&quot;, &quot;ちょ&quot;,
    &quot;にゃ&quot;, &quot;にゅ&quot;, &quot;にょ&quot;,
    &quot;ひゃ&quot;, &quot;ひゅ&quot;, &quot;ひょ&quot;,
    &quot;びゃ&quot;, &quot;びゅ&quot;, &quot;びょ&quot;,
    &quot;ぴゃ&quot;, &quot;ぴゅ&quot;, &quot;ぴょ&quot;,
    &quot;みゃ&quot;, &quot;みゅ&quot;, &quot;みょ&quot;,
    &quot;りゃ&quot;, &quot;りゅ&quot;, &quot;りょ&quot;
    };

    /**
     * Hashmap that contains the conversions between each hiragana and its romanji counterpart.
     * Romanji is the key and hiragana is the value.
     * 
     * Cannot be used until Word.setupMap() has been called.
     */
<span class="fc" id="L71">    static Map&lt;String, String&gt; ROMATOHIRA = new HashMap&lt;String, String&gt;();</span>
    
    

    /**
     * Hashmap that contains the conversions between each hiragana and its romanji counterpart.
     * Hiragana is the key and romanji is the value.
     * 
     * Cannot be used until Word.setupMap() has been called.
     */
<span class="fc" id="L81">    static Map&lt;String, String&gt; HIRATOROMA = new HashMap&lt;String, String&gt;();</span>

<span class="fc" id="L83">    static Map&lt;String, String&gt; UTOA = Map.ofEntries(</span>
<span class="fc" id="L84">        Map.entry(&quot;う&quot;, &quot;わ&quot;),</span>
<span class="fc" id="L85">        Map.entry(&quot;く&quot;, &quot;か&quot;),</span>
<span class="fc" id="L86">        Map.entry(&quot;す&quot;, &quot;さ&quot;),</span>
<span class="fc" id="L87">        Map.entry(&quot;つ&quot;, &quot;た&quot;),</span>
<span class="fc" id="L88">        Map.entry(&quot;ぬ&quot;, &quot;な&quot;),</span>
<span class="fc" id="L89">        Map.entry(&quot;ふ&quot;, &quot;は&quot;),</span>
<span class="fc" id="L90">        Map.entry(&quot;む&quot;, &quot;ま&quot;),</span>
<span class="fc" id="L91">        Map.entry(&quot;ゆ&quot;, &quot;や&quot;),</span>
<span class="fc" id="L92">        Map.entry(&quot;る&quot;, &quot;ら&quot;),</span>
<span class="fc" id="L93">        Map.entry(&quot;ぐ&quot;, &quot;が&quot;),</span>
<span class="fc" id="L94">        Map.entry(&quot;ず&quot;, &quot;ざ&quot;),</span>
<span class="fc" id="L95">        Map.entry(&quot;づ&quot;, &quot;だ&quot;),</span>
<span class="fc" id="L96">        Map.entry(&quot;ぶ&quot;, &quot;ば&quot;),</span>
<span class="fc" id="L97">        Map.entry(&quot;ぷ&quot;, &quot;ぱ&quot;)</span>
    );

<span class="fc" id="L100">    static Map&lt;String, String&gt; UTOE = Map.ofEntries(</span>
<span class="fc" id="L101">        Map.entry(&quot;う&quot;, &quot;え&quot;),</span>
<span class="fc" id="L102">        Map.entry(&quot;く&quot;, &quot;け&quot;),</span>
<span class="fc" id="L103">        Map.entry(&quot;す&quot;, &quot;せ&quot;),</span>
<span class="fc" id="L104">        Map.entry(&quot;つ&quot;, &quot;て&quot;),</span>
<span class="fc" id="L105">        Map.entry(&quot;ぬ&quot;, &quot;ね&quot;),</span>
<span class="fc" id="L106">        Map.entry(&quot;ふ&quot;, &quot;へ&quot;),</span>
<span class="fc" id="L107">        Map.entry(&quot;む&quot;, &quot;め&quot;),</span>
<span class="fc" id="L108">        Map.entry(&quot;ゆ&quot;, &quot;い&quot;),</span>
<span class="fc" id="L109">        Map.entry(&quot;る&quot;, &quot;れ&quot;),</span>
<span class="fc" id="L110">        Map.entry(&quot;ぐ&quot;, &quot;げ&quot;),</span>
<span class="fc" id="L111">        Map.entry(&quot;ず&quot;, &quot;ぜ&quot;),</span>
<span class="fc" id="L112">        Map.entry(&quot;づ&quot;, &quot;で&quot;),</span>
<span class="fc" id="L113">        Map.entry(&quot;ぶ&quot;, &quot;べ&quot;),</span>
<span class="fc" id="L114">        Map.entry(&quot;ぷ&quot;, &quot;ぺ&quot;)</span>
    );


<span class="fc" id="L118">    static Map&lt;String, String&gt; UTOO = Map.ofEntries(</span>
<span class="fc" id="L119">        Map.entry(&quot;う&quot;, &quot;お&quot;),</span>
<span class="fc" id="L120">        Map.entry(&quot;く&quot;, &quot;こ&quot;),</span>
<span class="fc" id="L121">        Map.entry(&quot;す&quot;, &quot;そ&quot;),</span>
<span class="fc" id="L122">        Map.entry(&quot;つ&quot;, &quot;と&quot;),</span>
<span class="fc" id="L123">        Map.entry(&quot;ぬ&quot;, &quot;の&quot;),</span>
<span class="fc" id="L124">        Map.entry(&quot;ふ&quot;, &quot;ほ&quot;),</span>
<span class="fc" id="L125">        Map.entry(&quot;む&quot;, &quot;も&quot;),</span>
<span class="fc" id="L126">        Map.entry(&quot;ゆ&quot;, &quot;よ&quot;),</span>
<span class="fc" id="L127">        Map.entry(&quot;る&quot;, &quot;ろ&quot;),</span>
<span class="fc" id="L128">        Map.entry(&quot;ぐ&quot;, &quot;ご&quot;),</span>
<span class="fc" id="L129">        Map.entry(&quot;ず&quot;, &quot;ぞ&quot;),</span>
<span class="fc" id="L130">        Map.entry(&quot;づ&quot;, &quot;ど&quot;),</span>
<span class="fc" id="L131">        Map.entry(&quot;ぶ&quot;, &quot;ぼ&quot;),</span>
<span class="fc" id="L132">        Map.entry(&quot;ぷ&quot;, &quot;ぽ&quot;)</span>
    );

<span class="fc" id="L135">    static Map&lt;String, String&gt; UTOI = Map.ofEntries(</span>
<span class="fc" id="L136">        Map.entry(&quot;う&quot;, &quot;い&quot;),</span>
<span class="fc" id="L137">        Map.entry(&quot;く&quot;, &quot;き&quot;),</span>
<span class="fc" id="L138">        Map.entry(&quot;す&quot;, &quot;し&quot;),</span>
<span class="fc" id="L139">        Map.entry(&quot;つ&quot;, &quot;ち&quot;),</span>
<span class="fc" id="L140">        Map.entry(&quot;ぬ&quot;, &quot;に&quot;),</span>
<span class="fc" id="L141">        Map.entry(&quot;ふ&quot;, &quot;ひ&quot;),</span>
<span class="fc" id="L142">        Map.entry(&quot;む&quot;, &quot;み&quot;),</span>
<span class="fc" id="L143">        Map.entry(&quot;ゆ&quot;, &quot;い&quot;),</span>
<span class="fc" id="L144">        Map.entry(&quot;る&quot;, &quot;り&quot;),</span>
<span class="fc" id="L145">        Map.entry(&quot;ぐ&quot;, &quot;ぎ&quot;),</span>
<span class="fc" id="L146">        Map.entry(&quot;ず&quot;, &quot;じ&quot;),</span>
<span class="fc" id="L147">        Map.entry(&quot;づ&quot;, &quot;ぢ&quot;),</span>
<span class="fc" id="L148">        Map.entry(&quot;ぶ&quot;, &quot;び&quot;),</span>
<span class="fc" id="L149">        Map.entry(&quot;ぷ&quot;, &quot;ぴ&quot;)</span>
    );

    /**
     * Marks whether or not the hashmaps have been initialized.
     * When setupMap() is called, the value becomes true and the maps
     * are not reinitialized after that point.
     */
<span class="fc" id="L157">    static boolean[] setup = {false};</span>

    

    /**
     * Uses the Hiragana and romanji string arrays, to create the hashmaps used for converting
     * between the two writing systems.
     * 
     * Will be called by first conversion request
     */
    public static void setupMap()
    {
<span class="fc bfc" id="L169" title="All 2 branches covered.">        for(int i = 0; i &lt; ROMANJI.length; i++)</span>
        {
<span class="fc" id="L171">            ROMATOHIRA.put(ROMANJI[i], HIRAGANA[i]);</span>
<span class="fc" id="L172">            HIRATOROMA.put(HIRAGANA[i], ROMANJI[i]);</span>
        }

<span class="fc" id="L175">        setup[0] = true;</span>
<span class="fc" id="L176">    }</span>

   
    /**
     * @return kanji string representation of word
     */
    public String getKanji();
    /**
     * @return hiragana string representation of word
     */
    public String getHiragana();
    /**
     * @return romanji string representation of word
     */
    public String getRomanji();
    /**
     * @return string with english meaning of word
     */
    public String getEngMeaning();

    /**
     * Returns type of a word.
     * 
     * Adjective:  
     * 1 - い Adjective
     * 2 - な Adjective
     * 
     * Verb:
     * 1 - う Verbs
     * 2 - る Verbs
     * 3 - する・くる Verbs
     * @return int type
     */
    public int getType();

    /**
     * Converts a word in romanji to a word in hiragana.
     * Scans romanji word and replaces alphabet letters with their hiragana counterpart.
     * 
     * @param romanji word to be converted
     * @return String of word in hiragana
     */
    public static String romanjiParser(String romanji)
    {

<span class="pc bpc" id="L221" title="1 of 2 branches missed.">        if(!setup[0])</span>
<span class="nc" id="L222">            setupMap();</span>
        
<span class="fc" id="L224">        StringBuilder res = new StringBuilder();//Contains the result as we build it</span>
        String token; //Contains the active string we are trying to convert into a hiragana character
<span class="fc" id="L226">        int index = 0;</span>

<span class="fc bfc" id="L228" title="All 2 branches covered.">        while(index &lt; romanji.length())</span>
        {
<span class="fc" id="L230">            token = &quot;&quot;;</span>

<span class="fc bfc" id="L232" title="All 2 branches covered.">            while(!ROMATOHIRA.containsKey(token))</span>
            {
<span class="fc" id="L234">                token += romanji.charAt(index);</span>
<span class="fc" id="L235">                index++;</span>

                //Need to check for extended sounds (tta becomes った), 
                //so check to see if next char is the same
<span class="fc bfc" id="L239" title="All 4 branches covered.">                if(index &lt; romanji.length() &amp;&amp; token.equals(String.valueOf(romanji.charAt(index))))</span>
                {
<span class="fc" id="L241">                    token = &quot;&quot;;</span>
<span class="fc" id="L242">                    res.append(&quot;っ&quot;);</span>
                }
            }

            //We need to ensure that we don't cut of at n when the actual token should be na, ni, etc.
<span class="fc bfc" id="L247" title="All 4 branches covered.">            if(token.equals(&quot;n&quot;) &amp;&amp; index &lt; romanji.length())</span>
            {
<span class="fc" id="L249">                String check = token + romanji.charAt(index);</span>

<span class="fc bfc" id="L251" title="All 2 branches covered.">                if(ROMATOHIRA.containsKey(check))</span>
                {
<span class="fc" id="L253">                    index++;</span>
<span class="fc" id="L254">                    res.append(ROMATOHIRA.get(check));</span>
                }
                else
                {
<span class="fc" id="L258">                    res.append(ROMATOHIRA.get(token));</span>
                }
<span class="fc" id="L260">            }</span>
            else
            {
<span class="fc" id="L263">                res.append(ROMATOHIRA.get(token));</span>
            }

        }

<span class="fc" id="L268">        return res.toString();</span>
    }

    /**
     * Converts a word or phrase from hiragana to romanji.  Scans the given string and
     * converts each hiragana to its romanji counterpart.
     * 
     * @param hiragana String to be converted
     * @return converted romanji string
     */
    public static String hiraganaParser(String hiragana)
    {
<span class="pc bpc" id="L280" title="1 of 2 branches missed.">        if(!setup[0])</span>
<span class="nc" id="L281">        setupMap();</span>

<span class="fc" id="L283">        StringBuilder res = new StringBuilder();</span>
<span class="fc" id="L284">        int len = hiragana.length();</span>
<span class="fc" id="L285">        boolean smalltsu = false;</span>

<span class="fc" id="L287">        int index = 0;</span>

<span class="fc bfc" id="L289" title="All 2 branches covered.">        while(index &lt; len)</span>
        {
            
            //Need to check for extended hiragana such as きゅ, so we need to check a character ahead
<span class="fc" id="L293">            String checkString = &quot;&quot;;</span>
<span class="fc bfc" id="L294" title="All 2 branches covered.">            if(index + 1 &lt; len)</span>
            {
<span class="fc" id="L296">                checkString = String.valueOf(hiragana.charAt(index)) + String.valueOf(hiragana.charAt(index+1));</span>
            }

<span class="fc" id="L299">            String toadd = &quot;&quot;;</span>
            
<span class="pc bpc" id="L301" title="1 of 2 branches missed.">            if(HIRATOROMA.containsKey(checkString))//If we do have an extended hiragana</span>
            {
<span class="nc" id="L303">                toadd = HIRATOROMA.get(checkString);</span>

<span class="nc bnc" id="L305" title="All 2 branches missed.">                if(smalltsu)//in case of extended sound, we repeat the first char:  って -&gt; tte</span>
                {
<span class="nc" id="L307">                    res.append(toadd.charAt(0) + toadd);</span>
<span class="nc" id="L308">                    smalltsu = false;</span>
                }
                else
                {
<span class="nc" id="L312">                    res.append(toadd);</span>
                }
                
<span class="nc" id="L315">                index+=2;//skip ahead as that is two characters</span>
            }
<span class="fc bfc" id="L317" title="All 2 branches covered.">            else if(hiragana.charAt(index) == 'っ')//if we have an extended sound such as って</span>
            {
<span class="fc" id="L319">                smalltsu = true;//mark flag, so that we can add additional char when we know what it is</span>
<span class="fc" id="L320">                index++;</span>
            }
            else
            {
<span class="fc" id="L324">                toadd = HIRATOROMA.get(String.valueOf(hiragana.charAt(index)));</span>

<span class="fc bfc" id="L326" title="All 2 branches covered.">                if(smalltsu)</span>
                {
<span class="fc" id="L328">                    res.append(toadd.charAt(0) + toadd);</span>
<span class="fc" id="L329">                    smalltsu = false;</span>
                }
                else
                {
<span class="fc" id="L333">                    res.append(toadd);</span>
                }

<span class="fc" id="L336">                index++;</span>
            }

            
<span class="fc" id="L340">        }</span>

<span class="fc" id="L342">        return res.toString();</span>
    }

    /**
     * Given a う hiragana, returns the corresponding あ hiragana
     * @param kana
     * @return
     */
    public static String uToa(String kana)
    {
<span class="fc" id="L352">        return UTOA.get(kana);</span>
    }

    /**
     * Given a う hiragana, returns the corresponding え hiragana
     * @param kana
     * @return
     */
    public static String uToe(String kana)
    {
<span class="fc" id="L362">        return UTOE.get(kana);</span>
    }

    /**
     * Given a う hiragana, returns the corresponding い hiragana
     * @param kana
     * @return
     */
    public static String uToi(String kana)
    {
<span class="fc" id="L372">        return UTOI.get(kana);</span>
    }

    /**
     * Given a う hiragana, returns the corresponding お hiragana
     * @param kana
     * @return
     */
    public static String uToo(String kana)
    {
<span class="fc" id="L382">        return UTOO.get(kana);</span>
    }


    
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>